<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Pitchutcha</title>
  <base href="/" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="icon" type="image/x-icon" href="favicon.ico" />
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
  <style>
    :root {
      /* Default Theme: Dark Forest */
      --color-primary: #f59e0b;
      --color-primary-light: #fde047;
      --color-primary-dark: #d97706;
      --color-primary-darker: #b45309;
      --color-secondary: #475569;
      --color-secondary-light: #94a3b8;
      --color-secondary-dark: #334155;
      --color-secondary-darker: #334155;
      --color-success: #16a34a;
      --color-success-light: #4ade80;
      --color-success-dark: #15803d;
      --color-success-darker: #15803d;
      --color-danger: #dc2626;
      --color-danger-light: #f87171;
      --color-danger-dark: #991b1b;
      --color-danger-darker: #991b1b;
      --color-info: #0891b2;
      --color-info-light: #67e8f9;
      --color-info-dark: #164e63;
      --color-info-darker: #164e63;
      --color-background: #111827;
      --color-panel: #1f2937;
      --color-text: #d1d5db;
      --color-text-on-primary: #000000;
      --color-text-on-secondary: #ffffff;
      --color-text-on-success: #ffffff;
      --color-text-on-danger: #ffffff;
      --color-text-on-info: #ffffff;
    }

    body {
      font-family: 'Press Start 2P', cursive;
      background-color: var(--color-background);
      color: var(--color-text);
    }
    /* Custom scrollbar for a retro feel */
    ::-webkit-scrollbar {
      width: 12px;
      background-color: #2d3748; /* gray-800 */
    }
    ::-webkit-scrollbar-thumb {
      background-color: #718096; /* gray-500 */
      border: 2px solid #2d3748; /* gray-800 */
    }
    ::-webkit-scrollbar-thumb:hover {
      background-color: #a0aec0; /* gray-400 */
    }
    .scrollbar-hide::-webkit-scrollbar {
        display: none;
    }
    .scrollbar-hide {
        -ms-overflow-style: none;  /* IE and Edge */
        scrollbar-width: none;  /* Firefox */
    }
     /* Pixelated 3D text effect */
    .text-shadow-pixel {
        text-shadow: 
        4px 4px 0 #2d3748, /* gray-800 */
        -4px 4px 0 #2d3748,
        4px -4px 0 #2d3748,
        -4px -4px 0 #2d3748,
        4px 0px 0 #2d3748,
        -4px 0px 0 #2d3748,
        0px 4px 0 #2d3748,
        0px -4px 0 #2d3748;
    }

    /* Animation for the hero sprite */
    @keyframes hero-bob {
        0%, 100% {
        transform: translateY(0);
        }
        50% {
        transform: translateY(-8px);
        }
    }
    .animate-hero-bob {
        animation: hero-bob 2.5s ease-in-out infinite;
    }

    /* Floor Transition Animation */
    @keyframes floor-transition-fade {
        0% { opacity: 0; transform: scale(0.8); }
        20% { opacity: 1; transform: scale(1); }
        80% { opacity: 1; transform: scale(1); }
        100% { opacity: 0; transform: scale(0.8); }
    }
    .animate-floor-transition {
        animation: floor-transition-fade 1.5s ease-in-out forwards;
    }

    /* Portal Animation */
    @keyframes portal-pulse {
        0%, 100% { transform: scale(1); opacity: 0.8; }
        50% { transform: scale(1.05); opacity: 1; }
    }
    .animate-portal-pulse {
        animation: portal-pulse 2.5s ease-in-out infinite;
    }
    .portal-purple {
        box-shadow: 0 0 15px #c084fc, inset 0 0 15px #c084fc;
    }
     .portal-red {
        box-shadow: 0 0 15px #f87171, inset 0 0 15px #f87171;
    }

    /* Mystery Card Pulse for Difficulty Selection */
    @keyframes mystery-pulse {
        0%, 100% {
            box-shadow: 0 0 10px #a855f7, inset 0 0 10px #a855f7; /* purple-500 */
            border-color: #c084fc; /* purple-400 */
            opacity: 0.8;
        }
        50% {
            box-shadow: 0 0 20px #c084fc, inset 0 0 20px #c084fc; /* purple-400 */
            border-color: #e9d5ff; /* purple-200 */
            opacity: 1;
        }
    }
    .animate-mystery-pulse {
        animation: mystery-pulse 2s ease-in-out infinite;
    }

    /* Button Glow for available points */
    @keyframes button-glow-gold {
      0%, 100% {
        box-shadow: inset 0 -4px 0 0 var(--color-secondary-dark), 0 0 8px color-mix(in srgb, var(--color-primary) 60%, transparent);
        border-color: var(--color-secondary-light) var(--color-secondary-dark) var(--color-secondary-dark) var(--color-secondary-light);
      }
      50% {
        box-shadow: inset 0 -4px 0 0 var(--color-secondary-dark), 0 0 16px var(--color-primary);
        border-color: var(--color-primary) var(--color-secondary-dark) var(--color-secondary-dark) var(--color-primary);
      }
    }
    .btn-glow-gold {
      animation: button-glow-gold 1.5s ease-in-out infinite;
    }

    /* Adventurer's Special Shop Item Glow */
    @keyframes adventurer-special-glow {
        0%, 100% {
            box-shadow: 0 0 12px var(--color-primary-light), inset 0 0 12px var(--color-primary-light);
            border-color: var(--color-primary-light);
        }
        50% {
            box-shadow: 0 0 24px var(--color-primary), inset 0 0 24px var(--color-primary);
            border-color: color-mix(in srgb, var(--color-primary-light) 50%, white);
        }
    }
    .adventurer-special {
        animation: adventurer-special-glow 2.5s ease-in-out infinite;
        border-width: 2px !important;
    }

    /* Scroll Indicator Pulse */
    @keyframes pulse-left {
        0%, 100% { transform: translateX(0); }
        50% { transform: translateX(-4px); }
    }
    .animate-pulse-left {
        animation: pulse-left 1.5s ease-in-out infinite;
    }
    @keyframes pulse-right {
        0%, 100% { transform: translateX(0); }
        50% { transform: translateX(4px); }
    }
    .animate-pulse-right {
        animation: pulse-right 1.5s ease-in-out infinite;
    }

    /* Exotic Rarity Animation */
    @keyframes exotic-border-glow {
      0% { border-color: #FF8000; box-shadow: 0 0 8px #FF8000; }
      25% { border-color: #FFD700; box-shadow: 0 0 12px #FFD700; }
      50% { border-color: #E50000; box-shadow: 0 0 8px #E50000; }
      75% { border-color: #A335EE; box-shadow: 0 0 12px #A335EE; }
      100% { border-color: #FF8000; box-shadow: 0 0 8px #FF8000; }
    }
    .animate-exotic-border {
      animation: exotic-border-glow 3s ease-in-out infinite;
    }

    /* Primal Item Glow */
    @keyframes primal-glow {
        0%, 100% {
            box-shadow: 0 0 15px #ffffff, inset 0 0 15px #ffffff;
            border-color: #ffffff;
        }
        50% {
            box-shadow: 0 0 25px #e5e7eb, inset 0 0 25px #e5e7eb;
            border-color: #f9fafb;
        }
    }
    .animate-primal-glow {
        animation: primal-glow 1.5s ease-in-out infinite;
    }

    /* Unique Item Glow */
    @keyframes unique-glow {
      0%, 100% {
        border-color: #4c1d95; /* violet-800 */
        box-shadow: 0 0 15px #000, inset 0 0 10px #ddd6fe, 0 0 25px #a78bfa; /* black, violet-200, violet-400 */
      }
      50% {
        border-color: #a78bfa; /* violet-400 */
        box-shadow: 0 0 25px #000, inset 0 0 15px #f5f3ff, 0 0 35px #ddd6fe; /* black, violet-100, violet-200 */
      }
    }
    .animate-unique-glow {
      animation: unique-glow 2s ease-in-out infinite;
    }

    /* Echo Enemy Animation */
    @keyframes echo-pulse {
      0%, 100% {
        opacity: 0.7;
        filter: drop-shadow(0 0 4px #a78bfa) brightness(1.2);
      }
      50% {
        opacity: 0.5;
        filter: drop-shadow(0 0 8px #8b5cf6) brightness(1.0);
      }
    }
    .animate-echo-pulse {
        animation: echo-pulse 3s ease-in-out infinite;
    }

    /* Leaderboard Rank Animations */
    @keyframes celestial-diamond-glow {
      0%, 100% { color: #00D1FF; text-shadow: 0 0 8px #00D1FF, 0 0 12px #c4b5fd; }
      33% { color: #ffffff; text-shadow: 0 0 8px #ffffff, 0 0 12px #c4b5fd; }
      66% { color: #c4b5fd; text-shadow: 0 0 8px #c4b5fd, 0 0 12px #00D1FF; }
    }
    .rank-celestial-diamond {
      animation: celestial-diamond-glow 4s ease-in-out infinite;
    }

    @keyframes astral-platinum-glow {
      0%, 100% { color: #F0F0F5; text-shadow: 0 0 10px #ffffff; }
      50% { color: #E5E4E2; text-shadow: 0 0 5px #ffffff; }
    }
    .rank-astral-platinum {
      animation: astral-platinum-glow 3s ease-in-out infinite;
    }

    @keyframes legendary-gold-glow {
      0%, 100% { text-shadow: 0 0 8px #FFC400; }
      50% { text-shadow: 0 0 16px #FFD700; }
    }
    .rank-legendary-gold {
      color: #FFC400;
      animation: legendary-gold-glow 2.5s ease-in-out infinite;
    }

    @keyframes mythical-amethyst-glow {
      0%, 100% { text-shadow: 0 0 6px #A335EE, 0 0 10px #c084fc; }
      50% { text-shadow: 0 0 12px #A335EE, 0 0 18px #c084fc; }
    }
    .rank-mythical-amethyst {
      color: #A335EE;
      animation: mythical-amethyst-glow 2s ease-in-out infinite;
    }

    @keyframes ancient-emerald-glow {
      0%, 100% { text-shadow: 0 0 7px #00C853; }
      50% { text-shadow: 0 0 14px #4ade80; }
    }
    .rank-ancient-emerald {
      color: #00C853;
      animation: ancient-emerald-glow 2.2s ease-in-out infinite;
    }

    /* Pixel Art Panel Borders */
    .border-pixel {
        border-style: solid;
        border-width: 4px;
    }
    .border-pixel-primary {
        border-color: var(--color-primary-light) var(--color-primary-darker) var(--color-primary-darker) var(--color-primary-light);
    }
    .border-pixel-info {
        border-color: var(--color-info-light) var(--color-info-darker) var(--color-info-darker) var(--color-info-light);
    }
    .border-pixel-danger {
        border-color: var(--color-danger-light) var(--color-danger-darker) var(--color-danger-darker) var(--color-danger-light);
    }
    .border-pixel-success {
      border-color: var(--color-success-light) var(--color-success-darker) var(--color-success-darker) var(--color-success-light);
    }
    .border-pixel-yellow {
        border-color: #fde047 #b45309 #b45309 #fde047;
    }

    /* Pixel Art Buttons */
    .btn-pixel {
        position: relative;
        border-style: solid;
        border-width: 2px;
        transition: all 0.07s ease-in-out;
        display: inline-block;
        text-align: center;
    }
    .btn-pixel:not(:disabled):active {
        top: 2px;
    }
    .btn-pixel:disabled {
        cursor: not-allowed;
        filter: grayscale(60%);
        opacity: 0.7;
    }

    /* Primary Button */
    .btn-pixel-primary {
        background-color: var(--color-primary);
        color: var(--color-text-on-primary);
        border-color: var(--color-primary-light) var(--color-primary-darker) var(--color-primary-darker) var(--color-primary-light);
        box-shadow: inset 0 -4px 0 0 var(--color-primary-dark);
    }
    .btn-pixel-primary:not(:disabled):hover {
        background-color: var(--color-primary-light);
    }
    .btn-pixel-primary:not(:disabled):active {
        box-shadow: inset 0 -2px 0 0 var(--color-primary-dark);
    }

    /* Secondary Button */
    .btn-pixel-secondary {
        background-color: var(--color-secondary);
        color: var(--color-text-on-secondary);
        border-color: var(--color-secondary-light) var(--color-secondary-darker) var(--color-secondary-darker) var(--color-secondary-light);
        box-shadow: inset 0 -4px 0 0 var(--color-secondary-dark);
    }
    .btn-pixel-secondary:not(:disabled):hover {
        background-color: var(--color-secondary-light);
        color: var(--color-text-on-primary);
    }
    .btn-pixel-secondary:not(:disabled):active {
        box-shadow: inset 0 -2px 0 0 var(--color-secondary-dark);
    }

    /* Danger Button */
    .btn-pixel-danger {
        background-color: var(--color-danger);
        color: var(--color-text-on-danger);
        border-color: var(--color-danger-light) var(--color-danger-darker) var(--color-danger-darker) var(--color-danger-light);
        box-shadow: inset 0 -4px 0 0 var(--color-danger-dark);
    }
    .btn-pixel-danger:not(:disabled):hover {
        background-color: var(--color-danger-light);
    }
    .btn-pixel-danger:not(:disabled):active {
        box-shadow: inset 0 -2px 0 0 var(--color-danger-dark);
    }

    /* Success Button */
    .btn-pixel-success {
        background-color: var(--color-success);
        color: var(--color-text-on-success);
        border-color: var(--color-success-light) var(--color-success-darker) var(--color-success-darker) var(--color-success-light);
        box-shadow: inset 0 -4px 0 0 var(--color-success-dark);
    }
    .btn-pixel-success:not(:disabled):hover {
        background-color: var(--color-success-light);
    }
    .btn-pixel-success:not(:disabled):active {
        box-shadow: inset 0 -2px 0 0 var(--color-success-dark);
    }

    /* Info Button */
    .btn-pixel-info {
        background-color: var(--color-info);
        color: var(--color-text-on-info);
        border-color: var(--color-info-light) var(--color-info-darker) var(--color-info-darker) var(--color-info-light);
        box-shadow: inset 0 -4px 0 0 var(--color-info-dark);
    }
    .btn-pixel-info:not(:disabled):hover {
        background-color: var(--color-info-light);
    }
    .btn-pixel-info:not(:disabled):active {
        box-shadow: inset 0 -2px 0 0 var(--color-info-dark);
    }
    
    /* Yellow Button */
    .btn-pixel-yellow {
        background-color: #ca8a04; /* yellow-600 */
        color: #ffffff;
        border-color: #facc15 #a16207 #a16207 #facc15; /* yellow-400, yellow-700 */
        box-shadow: inset 0 -4px 0 0 #a16207; /* yellow-700 */
    }
    .btn-pixel-yellow:not(:disabled):hover {
        background-color: #facc15; /* yellow-400 */
    }
    .btn-pixel-yellow:not(:disabled):active {
        box-shadow: inset 0 -2px 0 0 #a16207;
    }

    /* Slate Button */
    .btn-pixel-slate {
        background-color: #475569; /* slate-600 */
        color: #ffffff;
        border-color: #94a3b8 #334155 #334155 #94a3b8; /* slate-400, slate-700 */
        box-shadow: inset 0 -4px 0 0 #334155; /* slate-700 */
    }
    .btn-pixel-slate:not(:disabled):hover {
        background-color: #64748b; /* slate-500 */
    }
    .btn-pixel-slate:not(:disabled):active {
        box-shadow: inset 0 -2px 0 0 #334155;
    }

    /* Cyan Button */
    .btn-pixel-cyan {
        background-color: #0891b2; /* cyan-600 */
        color: #ffffff;
        border-color: #67e8f9 #164e63 #164e63 #67e8f9; /* cyan-300, cyan-800 */
        box-shadow: inset 0 -4px 0 0 #164e63; /* cyan-800 */
    }
    .btn-pixel-cyan:not(:disabled):hover {
        background-color: #22d3ee; /* cyan-400 */
    }
    .btn-pixel-cyan:not(:disabled):active {
        box-shadow: inset 0 -2px 0 0 #164e63;
    }


    /* Round Button Variant */
    .btn-pixel-round {
        border-style: solid;
        border-width: 2px;
        position: relative;
        transition: all 0.07s ease-in-out;
    }
    .btn-pixel-round:not(:disabled):active {
        top: 1px;
    }
    .btn-pixel-secondary-round {
        background-color: var(--color-secondary);
        border-color: var(--color-secondary-light) var(--color-secondary-darker) var(--color-secondary-darker) var(--color-secondary-light);
        box-shadow: inset 0 -2px 0 0 var(--color-secondary-dark);
    }
    .btn-pixel-secondary-round:not(:disabled):hover {
        background-color: var(--color-secondary-light);
    }
    .btn-pixel-secondary-round:not(:disabled):active {
        box-shadow: inset 0 -1px 0 0 var(--color-secondary-dark);
    }
    /* Override for scroll buttons to remove color change */
    .scroll-btn.btn-pixel-secondary-round:not(:disabled):hover {
        background-color: var(--color-secondary);
    }
    .scroll-btn.btn-pixel-secondary-round:not(:disabled):active {
        box-shadow: inset 0 -2px 0 0 var(--color-secondary-dark); /* Revert to original shadow */
    }

    /* Theme-aware utility classes */
    .bg-theme-panel { background-color: var(--color-panel); }
    .text-theme-primary { color: var(--color-primary); }
    .text-theme-secondary { color: var(--color-secondary-light); }
    .text-theme-danger { color: var(--color-danger); }
    .text-theme-info { color: var(--color-info); }
    .text-theme-success { color: var(--color-success); }
  </style>
<script type="importmap">
{
  "imports": {
    "rxjs": "https://esm.sh/rxjs@^7.8.1",
    "rxjs/operators": "https://esm.sh/rxjs@^7.8.1/operators",
    "rxjs/ajax": "https://esm.sh/rxjs@^7.8.1/ajax",
    "rxjs/webSocket": "https://esm.sh/rxjs@^7.8.1/webSocket",
    "rxjs/testing": "https://esm.sh/rxjs@^7.8.1/testing",
    "rxjs/fetch": "https://esm.sh/rxjs@^7.8.1/fetch",
    "@angular/common": "https://next.esm.sh/@angular/common@^20.3.5?external=rxjs",
    "@angular/common/http": "https://next.esm.sh/@angular/common@^20.3.5/http?external=rxjs",
    "@angular/core": "https://next.esm.sh/@angular/core@^20.3.5?external=rxjs",
    "@angular/compiler": "https://next.esm.sh/@angular/compiler@^20.3.5?external=rxjs",
    "@angular/platform-browser": "https://next.esm.sh/@angular/platform-browser@^20.3.5?external=rxjs"
  }
}
</script>
<link rel="stylesheet" href="/index.css">
</head>
<body class="selection:bg-yellow-500 selection:text-black">
  <app-root></app-root>
</body>
</html>